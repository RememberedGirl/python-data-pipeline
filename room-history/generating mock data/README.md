Модель данных торгового центра (ТРЦ)
Общее описание
Модель данных для управления торговыми центрами, включающая информацию о помещениях, договорах аренды, ответственных сотрудниках и статусах помещений в различных финансовых моделях.

Таблицы измерений (Dimensions)
dim_employee
Справочник сотрудников

```sql
employee_id (PK) - Идентификатор сотрудника
full_name - ФИО сотрудника
```
dim_financial_model
Справочник финансовых моделей
```
```sql
financial_model_id (PK) - Идентификатор финансовой модели
model_name - Название модели
forecast_year - Год прогноза (может быть NULL)
model_type - Тип модели (Факт/План/Прогноз)
```
dim_rent_contract
Справочник договоров аренды

```sql
contract_id (PK) - Идентификатор договора
contract_number - Номер договора
tenant_name - Наименование арендатора
start_date - Дата начала договора
end_date - Дата окончания договора
rent_amount - Сумма арендной платы
room_id (FK) - Ссылка на помещение
trc_id (FK) - Ссылка на ТРЦ
legal_entity - Юридическое лицо
```
dim_room
Справочник помещений

```sql
room_id (PK) - Идентификатор помещения
area_sq_m - Площадь помещения (м²)
floor - Этаж
trc_id (FK) - Ссылка на ТРЦ
legal_entity - Юридическое лицо
```
dim_trc
Справочник торговых центров

```sql
trc_id (PK) - Идентификатор ТРЦ
trc_name - Название ТРЦ
city - Город
legal_entity - Юридическое лицо
```

Таблицы фактов (Facts)
fact_responsibility
Факты ответственности (обычные ответственные)

```sql
responsibility_id (PK) - Идентификатор ответственности
room_id (FK) - Ссылка на помещение
trc_id (FK) - Ссылка на ТРЦ
legal_entity - Юридическое лицо
start_date - Дата начала ответственности
change_number - Порядковый номер изменения
employee_id (FK) - Ссылка на сотрудника
```
fact_senior_responsibility
Факты ответственности (старшие ответственные)

```sql
responsibility_id (PK) - Идентификатор ответственности
room_id (FK) - Ссылка на помещение
trc_id (FK) - Ссылка на ТРЦ
legal_entity - Юридическое лицо
start_date - Дата начала ответственности
change_number - Порядковый номер изменения
employee_id (FK) - Ссылка на сотрудника
```
fact_room_status
Факты статусов помещений

```sql
financial_model_id (FK) - Ссылка на финансовую модель
trc_id (FK) - Ссылка на ТРЦ
legal_entity - Юридическое лицо
room_id (FK) - Ссылка на помещение
change_number - Порядковый номер изменения статуса
start_date - Дата начала действия статуса
status - Статус помещения (Свободен/Арендован/Ремонт)
contract_id (FK, NULL) - Ссылка на текущий договор (или прошлый)
contract_id_next (FK, NULL) - Ссылка на следующий договор (если известен)
```